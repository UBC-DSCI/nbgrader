setup: "library(digest)"
dispatch: "class({{snippet}})"
templates:
    default: 
        hash: "digest(paste(toString({{snippet}}), '{{salt}}'))"
        test: "assert({{answer.code}} == {{answer.val}})"
        variables:
            answer: "{{snippet}}"
    numeric:
        hash: "digest(paste({{snippet}}, '{{salt}}'))"
        test: >
            "assert({{str.code}} == {{str.val}})
             assert({{strlen.code}} == {{strlen.val}})
             print('Success!')
            "
        variables:
            str: "{{snippet}}"
            strlen: "nchar({{snippet}})"
    

